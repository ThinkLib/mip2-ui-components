{"version":3,"sources":["../../src/mixins/registrable.ts"],"names":[],"mappings":"AAAA,OAAO,GAAP,MAAgB,KAAhB;AAEA,SAAS,WAAT,QAA4B,iBAA5B;AAEA,SAAA,eAAA,CAA0B,KAA1B,EAAyC,MAAzC,EAAuD;AACrD,WAAO,MAAM,YAAY,OAAO,KAAK,oCAAoC,MAAM,EAAlE,CAAb;AACD;AASD,OAAM,SAAA,MAAA,CAAoC,SAApC,EAAkD,KAAlD,EAAkE,MAAlE,EAAiF;AACrF,UAAM,cAAc,SAAS,MAAT,GAAkB;AACpC,kBAAU,gBAAgB,KAAhB,EAAuB,MAAvB,CAD0B;AAEpC,oBAAY,gBAAgB,KAAhB,EAAuB,MAAvB;AAFwB,KAAlB,GAGhB,IAHJ;AAKA,WAAO,IAAI,MAAJ,CAAW;AAChB,cAAM,oBADU;AAGhB,gBAAQ;AACN,aAAC,SAAD,GAAa;AACX,yBAAS;AADE;AADP;AAHQ,KAAX,CAAP;AASD;AAED,OAAM,SAAA,OAAA,CAAmB,SAAnB,EAAoC;AACxC,WAAO,IAAI,MAAJ,CAAW;AAChB,cAAM,qBADU;AAGhB,iBAAS;AACP,sBAAU,IADH;AAEP,wBAAY;AAFL,SAHO;AAOhB,kBAAO;AACL,mBAAO;AACL,iBAAC,SAAD,GAAa;AACX,8BAAU,KAAK,QADJ;AAEX,gCAAY,KAAK;AAFN;AADR,aAAP;AAMD;AAde,KAAX,CAAP;AAgBD","sourcesContent":["import Vue from 'vue'\nimport { ExtendedVue } from 'vue/types/vue'\nimport { consoleWarn } from '../util/console'\n\nfunction generateWarning (child: string, parent: string) {\n  return () => consoleWarn(`The ${child} component must be used inside a ${parent}`)\n}\n\nexport type Registrable<T extends string> = ExtendedVue<Vue, {\n  [K in T]: {\n    register (...props: any[]): void\n    unregister (self: any): void\n  }\n}, {}, {}, {}>\n\nexport function inject<T extends string> (namespace: T, child?: string, parent?: string): Registrable<T> {\n  const defaultImpl = child && parent ? {\n    register: generateWarning(child, parent),\n    unregister: generateWarning(child, parent)\n  } : null\n\n  return Vue.extend({\n    name: 'registrable-inject',\n\n    inject: {\n      [namespace]: {\n        default: defaultImpl\n      }\n    }\n  })\n}\n\nexport function provide (namespace: string) {\n  return Vue.extend({\n    name: 'registrable-provide',\n\n    methods: {\n      register: null,\n      unregister: null\n    },\n    provide () {\n      return {\n        [namespace]: {\n          register: this.register,\n          unregister: this.unregister\n        }\n      }\n    }\n  })\n}\n"],"sourceRoot":""}