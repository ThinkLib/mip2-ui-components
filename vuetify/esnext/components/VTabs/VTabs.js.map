{"version":3,"sources":["../../../src/components/VTabs/VTabs.js"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport '../../stylus/components/_tabs.styl'\n\n// Component level mixins\nimport TabsComputed from './mixins/tabs-computed'\nimport TabsGenerators from './mixins/tabs-generators'\nimport TabsProps from './mixins/tabs-props'\nimport TabsTouch from './mixins/tabs-touch'\nimport TabsWatchers from './mixins/tabs-watchers'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport SSRBootable from '../../mixins/ssr-bootable'\nimport Themeable from '../../mixins/themeable'\nimport {\n  provide as RegistrableProvide\n} from '../../mixins/registrable'\n\n// Directives\nimport Resize from '../../directives/resize'\nimport Touch from '../../directives/touch'\n\n/* @vue/component */\nexport default {\n  name: 'v-tabs',\n\n  directives: {\n    Resize,\n    Touch\n  },\n\n  mixins: [\n    RegistrableProvide('tabs'),\n    Colorable,\n    SSRBootable,\n    TabsComputed,\n    TabsProps,\n    TabsGenerators,\n    TabsTouch,\n    TabsWatchers,\n    Themeable\n  ],\n\n  provide () {\n    return {\n      tabClick: this.tabClick,\n      tabProxy: this.tabProxy,\n      registerItems: this.registerItems,\n      unregisterItems: this.unregisterItems\n    }\n  },\n\n  data () {\n    return {\n      bar: [],\n      content: [],\n      isBooted: false,\n      isOverflowing: false,\n      lazyValue: this.value,\n      nextIconVisible: false,\n      prevIconVisible: false,\n      resizeTimeout: null,\n      reverse: false,\n      scrollOffset: 0,\n      sliderWidth: null,\n      sliderLeft: null,\n      startX: 0,\n      tabsContainer: null,\n      tabs: [],\n      tabItems: null,\n      transitionTime: 300,\n      widths: {\n        bar: 0,\n        container: 0,\n        wrapper: 0\n      }\n    }\n  },\n\n  watch: {\n    tabs: 'onResize'\n  },\n\n  mounted () {\n    this.checkIcons()\n  },\n\n  methods: {\n    checkIcons () {\n      this.prevIconVisible = this.checkPrevIcon()\n      this.nextIconVisible = this.checkNextIcon()\n    },\n    checkPrevIcon () {\n      return this.scrollOffset > 0\n    },\n    checkNextIcon () {\n      // Check one scroll ahead to know the width of right-most item\n      return this.widths.container > this.scrollOffset + this.widths.wrapper\n    },\n    callSlider () {\n      if (this.hideSlider || !this.activeTab) return false\n\n      // Give screen time to paint\n      const action = (this.activeTab || {}).action\n      const activeTab = action === this.activeTab\n        ? this.activeTab\n        : this.tabs.find(tab => tab.action === action)\n\n      this.$nextTick(() => {\n        if (!activeTab || !activeTab.$el) return\n        this.sliderWidth = activeTab.$el.scrollWidth\n        this.sliderLeft = activeTab.$el.offsetLeft\n      })\n    },\n    /**\n     * When v-navigation-drawer changes the\n     * width of the container, call resize\n     * after the transition is complete\n     */\n    onResize () {\n      if (this._isDestroyed) return\n\n      this.setWidths()\n\n      clearTimeout(this.resizeTimeout)\n      this.resizeTimeout = setTimeout(() => {\n        this.callSlider()\n        this.scrollIntoView()\n        this.checkIcons()\n      }, this.transitionTime)\n    },\n    overflowCheck (e, fn) {\n      this.isOverflowing && fn(e)\n    },\n    scrollTo (direction) {\n      this.scrollOffset = this.newOffset(direction)\n    },\n    setOverflow () {\n      this.isOverflowing = this.widths.bar < this.widths.container\n    },\n    setWidths () {\n      const bar = this.$refs.bar ? this.$refs.bar.clientWidth : 0\n      const container = this.$refs.container ? this.$refs.container.clientWidth : 0\n      const wrapper = this.$refs.wrapper ? this.$refs.wrapper.clientWidth : 0\n\n      this.widths = { bar, container, wrapper }\n\n      this.setOverflow()\n    },\n    findActiveLink () {\n      if (!this.tabs.length) return\n\n      const activeIndex = this.tabs.findIndex((tabItem, index) => {\n        const id = tabItem.action === tabItem ? index : tabItem.action\n        return id === this.lazyValue ||\n          tabItem.$el.firstChild.className.indexOf(this.activeClass) > -1\n      })\n\n      const index = activeIndex > -1 ? activeIndex : 0\n      const tab = this.tabs[index]\n\n      /* istanbul ignore next */\n      // There is not a reliable way to test\n      this.inputValue = tab.action === tab ? index : tab.action\n    },\n    parseNodes () {\n      const item = []\n      const items = []\n      const slider = []\n      const tab = []\n      const length = (this.$slots.default || []).length\n\n      for (let i = 0; i < length; i++) {\n        const vnode = this.$slots.default[i]\n\n        if (vnode.componentOptions) {\n          switch (vnode.componentOptions.Ctor.options.name) {\n            case 'v-tabs-slider': slider.push(vnode)\n              break\n            case 'v-tabs-items': items.push(vnode)\n              break\n            case 'v-tab-item': item.push(vnode)\n              break\n            // case 'v-tab' - intentionally omitted\n            default: tab.push(vnode)\n          }\n        } else {\n          tab.push(vnode)\n        }\n      }\n\n      return { tab, slider, items, item }\n    },\n    register (options) {\n      this.tabs.push(options)\n    },\n    scrollIntoView () {\n      if (!this.activeTab) return\n      if (!this.isOverflowing) return (this.scrollOffset = 0)\n\n      const totalWidth = this.widths.wrapper + this.scrollOffset\n      const { clientWidth, offsetLeft } = this.activeTab.$el\n      const itemOffset = clientWidth + offsetLeft\n      let additionalOffset = clientWidth * 0.3\n      if (this.activeIndex === this.tabs.length - 1) {\n        additionalOffset = 0 // don't add an offset if selecting the last tab\n      }\n\n      /* istanbul ignore else */\n      if (offsetLeft < this.scrollOffset) {\n        this.scrollOffset = Math.max(offsetLeft - additionalOffset, 0)\n      } else if (totalWidth < itemOffset) {\n        this.scrollOffset -= totalWidth - itemOffset - additionalOffset\n      }\n    },\n    tabClick (tab) {\n      this.inputValue = tab.action === tab ? this.tabs.indexOf(tab) : tab.action\n      this.scrollIntoView()\n    },\n    tabProxy (val) {\n      this.inputValue = val\n    },\n    registerItems (fn) {\n      this.tabItems = fn\n    },\n    unregisterItems () {\n      this.tabItems = null\n    },\n    unregister (tab) {\n      this.tabs = this.tabs.filter(o => o !== tab)\n    },\n    updateTabs () {\n      for (let index = this.tabs.length; --index >= 0;) {\n        this.tabs[index].toggle(this.target)\n      }\n\n      this.setOverflow()\n    }\n  },\n\n  render (h) {\n    const { tab, slider, items, item } = this.parseNodes()\n\n    return h('div', {\n      staticClass: 'v-tabs',\n      directives: [{\n        name: 'resize',\n        arg: 400,\n        modifiers: { quiet: true },\n        value: this.onResize\n      }]\n    }, [\n      this.genBar([this.hideSlider ? null : this.genSlider(slider), tab]),\n      this.genItems(items, item)\n    ])\n  }\n}\n"],"sourceRoot":""}